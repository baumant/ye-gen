$(function(){function n(n){return n?n.replace(/\n$/,"<br>&nbsp;").replace(/\n/g,"<br>"):"&nbsp;"}function e(){var n=c.height(),e=Math.max(0,.5*(n-t.height()));o.css({paddingTop:e,height:n-e})}var c=$("#album-cover"),o=$("textarea"),t=$(".dummy");o.on("keyup change",function(c){console.log("keyup");var a=n(o.val());t.html(a),e()}).trigger("change"),$(window).on("resize",e),$(".save-img").click(function(){html2canvas(document.querySelector("#album-cover")).then(function(n){n.toBlob(function(n){saveAs(n,"My-YE-cover.png")})})})});